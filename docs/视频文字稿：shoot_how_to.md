大佬们好久不见，欢迎回到我的频道
我们必须想象，做题人是幸福的
我是汉斯，大龄做题人一枚

最近我用manim做了几个视频
感觉大语言模型生成的manim代码质量非常低
为了给大佬们带来更好的内容
我想还是要亲自学习一些manim使用技巧
引导LLM往正确的方向走
今天我们一起学习如何用manim做打靶视频
代码已开源，传送门在视频简介
个人推荐看屏幕展示的链接1入门
并把这期视频作为链接1的补充
链接1除了历史悠久以外，基本没有任何缺点
这期打靶视频的灵感也是来源于此
链接2提供了很多API的示例代码，可以慢慢刷
学会了把相关知识告诉LLM，提升生成效果
链接3是介绍动画的，胜在排版好看

首先讲怎么画基本图形
绘制圆和线段都很简单
默认画的是空心圆
传入fill color和fill opacity就能画实心圆
线段要给出起点和终点
比如屏幕里的就是从 (负1, 0, 0) 到 (1, 0, 0) 的直线
它们都是Point 3D Like对象
在IDE中点击Line类的类型定义就能看到
Point 3D Like基本就是num py array
而Point 3D和Vector 3D的类型是完全一样的
manim内置了一些向量常量方便使用
比如 ORIGIN(0, 0, 0) 、 UP(0, 1, 0) 等等
另外，我们会用V Group把多个图形组合起来
一起运动、改颜色等等

接着讲怎么移动图形
可以用shift、move to、next to等方法移动图形
shift表示按给定的向量移动
move to表示把图形的中心移动到给定的点
next to表示把图形移动到给定的图形旁边
可以用direction指定是在哪个方向挨着
to edge可以把图形移到屏幕的某个角落
其他移动方法等有需求时再慢慢看官方文档就行
这里就不赘述了

但直接用这些方法移动图形是没有过渡动画的
过渡动画有两种创建方式
Apply Method类和animate属性
Apply Method第一个参数是要调用的方法
后面是方法的透传参数
animate属性后正常跟shift、move to等方法就行
另外，可以给play方法任意多参数
表示多个动画同时进行

问题来了，这两种方法有区别吗？
kimi k2说有区别
但我翻遍官方文档、GitHub都没有找到相关表述
于是我又问了通义千问、智谱清言
它们都说其实没区别，只是更推荐用animate属性
因为可以链式调用，代码更简洁

有这点知识我们就可以做出打靶视频了
首先来看怎么画瞄准镜
我们画一个大圆和一个小圆
然后横竖各连一条线就行
把这些图形打包进V Group
然后Apply Method移动到左上角
靶子就是实心圆
我们希望把它们放到中心位置，圆心间距为2
所以需要推导下屏幕里一元一次方程的解
推完后代入3和4就得到代码里的负2、负3

显示分数也不难
我们调用to edge把文案移动到上方
然后把分数移到文案右边就行
为了实现只改变分数的效果
我没有用V Group打包他俩
模拟射击分两步
先移到靶子中心
然后让靶子、文本的颜色变化，同时增加分数

写好初版代码后，我忽然不满足于一个单纯的打靶视频
刚好又联想到打靶类似于哲学家批判旧事物
于是我想再做一个转场动画，模拟尼采精神崩溃
于是向通义千问要灵感
大语言模型艺术创作的表现向来一般
所以一开始我是不抱希望的
但没想到它生成的效果是有点内味的
于是我改了改代码，加了BGM，做成现在的样子
首先打乱每个靶子的位置
接着把屏幕里所有图形弄乱
然后让所有图形缩到中心消失
最后展示尼采的名言

代码放到下一页展示
缩到中心消失的效果用Shrink To Center实现更好
不过通义千问生成的代码是屏幕里这样的
看着效果差不多，我就没改代码了
最后一行是署名
我们在调用next to时传入aligned edge
让它和前两行的右边界对齐，这样更美观

对完整代码感兴趣的大佬可以点击简介的链接~
我是汉斯，我正致力于为做题人的精神自留地添砖加瓦
如果你喜欢这期视频，别忘了一键三连哦
谢谢观看~
