大佬们好久不见，欢迎回到我的频道
我们必须想象，做题人是幸福的
我是汉斯，大龄做题人一枚

今天教大家如何用manim做从夯到拉锐评视频
如果看过我上期的manim教学视频
那么写出这期视频的代码将会很轻松

做从夯到拉锐评视频主要步骤有
1，画出从夯到拉的背景图
2，展示初始素材图片，并设置成合适的大小
3，让素材图片一边缩小到和一行矩形的高度相同，一边移动到正确位置

首先讲怎么画背景图
我先找了一个网站截图，然后让通义千问帮我复刻
最后自己调整代码
提示词没啥弯弯绕绕，直接叫它复刻就行
不过生成效果只是看着像回事，免不了古法手作调整

接下来简单说下代码
对于每一行的左侧矩形，我们都需要把对应的文字放到它的中心
所以我们调用了label rect的get center方法
右侧矩形紧挨着左侧矩形的右边界，所以调用了next to方法

接下来是难点：确定每个矩形的宽和高
LLM完全没有考虑到这里要讲的问题
我们单独看前6行代码
首先要确定左侧矩形的宽和对应的字体大小
和CSS不同，在manim里，如果字太大
不仅会溢出矩形，还会导致这一行的所有矩形都发生错位
调试发现，60px字体配0.2倍屏幕宽刚好合适
接着在调试过程中发现，类似于CSS的content box
边框宽度不包含在矩形宽度里
所以如果直接让左右矩形宽度和等于屏幕宽度
就会导致左矩形左边框和右矩形右边框只能显示一半
为了解决这个问题，我们让两个矩形的宽度各减去边框宽度
但注意到边框宽度的单位是像素，所以还需要转换成逻辑宽度
根据边框占屏幕宽度的比例，我们列出屏幕里的等式
于是就得到了代码里的STROKE LOGIC WIDTH
类似地，我们顺便定义了边框逻辑高度
它在row height里不是必需的，不过我还是让它参与了

接着看怎么画素材
ImageMobject需要给出图片的路径
编程基础较差的人可能会在这里踩坑
正确做法就一句话
设置相对于项目根目录的相对路径就行
这里还用到一个新的API：scale_to_fit_height
根据官方文档，它会在保留图片宽高比的前提下
让图片的高度变成给定的高度

然后看怎么让素材图片一边缩小到和一行矩形的高度相同
一边移动到正确位置
我试过问LLM，但发现它给的代码是直接放到对应坐标的
为了方便，我们暂不考虑放到两行之间的情况
这样就可以简化为用next to，避免直接计算坐标
于是我们需要分两种情况
情况1，这一行还没有图片，对应屏幕里第一段代码
我们需要放到这一行左侧矩形的右边
因为矩形的边框宽度不包含在矩形宽度里
所以需要给一个buffer
实测发现，代码里的0.5倍STROKE LOGIC WIDTH并不精确
但看着效果还行，我就不细细琢磨精确解了
情况2，这一行已经有图片，对应屏幕里第二段代码
我们需要放到本行最后一张图片的右边
因为图片没有边框，所以直接紧挨着就行
剪视频时想到，这里可以额外每行维护一个数组
取数组最后一个元素，表示当前元素要紧挨着它
不过这期视频的代码比较简单，我就没有这么写
另外，注意到屏幕第一段代码有3个等待时间
这是根据旁白读这句话的时长来调整的
如果有大佬有更好的方法，请在评论区教教汉斯~

对完整代码感兴趣的大佬可以点击简介的链接~
我是汉斯，我正致力于为做题人的精神自留地添砖加瓦
如果你喜欢这期视频，别忘了一键三连哦
谢谢观看~
