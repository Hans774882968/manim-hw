1
00:00:00,050 --> 00:00:03,512
大佬们好久不见，欢迎回到我的频道

2
00:00:03,512 --> 00:00:06,750
我们必须想象，做题人是幸福的

3
00:00:06,750 --> 00:00:09,775
我是Hans，大龄做题人一枚

4
00:00:09,775 --> 00:00:12,787
最近我用manim做了几个视频

5
00:00:12,787 --> 00:00:17,300
感觉大语言模型生成的manim代码质量非常低

6
00:00:17,300 --> 00:00:20,312
为了给大佬们带来更好的内容

7
00:00:20,312 --> 00:00:24,425
我想还是要亲自学习一些manim使用技巧

8
00:00:24,425 --> 00:00:27,687
引导LLM往正确的方向走

9
00:00:27,687 --> 00:00:32,125
今天我们一起学习如何用manim做打靶视频

10
00:00:32,125 --> 00:00:35,825
代码已开源，传送门在视频简介

11
00:00:35,825 --> 00:00:39,687
个人推荐看屏幕展示的链接1入门

12
00:00:39,687 --> 00:00:43,087
并把这期视频作为链接1的补充

13
00:00:43,087 --> 00:00:47,362
链接1除了历史悠久以外，基本没有任何缺点

14
00:00:47,362 --> 00:00:50,975
这期打靶视频的灵感也是来源于此

15
00:00:50,975 --> 00:00:55,775
链接2提供了很多API的示例代码，可以慢慢刷

16
00:00:55,775 --> 00:01:00,537
学会了把相关知识告诉LLM，提升生成效果

17
00:01:00,537 --> 00:01:04,425
链接3是介绍动画的，胜在排版好看

18
00:01:04,425 --> 00:01:07,250
首先讲怎么画基本图形

19
00:01:07,250 --> 00:01:10,012
绘制圆和线段都很简单

20
00:01:10,012 --> 00:01:12,150
默认画的是空心圆

21
00:01:12,150 --> 00:01:16,475
传入fill_color和fill_opacity就能画实心圆

22
00:01:16,475 --> 00:01:19,137
线段要给出起点和终点

23
00:01:19,137 --> 00:01:25,375
比如屏幕里的就是从 (-1, 0, 0) 到 (1, 0, 0) 的直线

24
00:01:25,375 --> 00:01:28,237
它们都是Point3DLike对象

25
00:01:28,237 --> 00:01:32,487
在IDE中点击Line类的类型定义就能看到

26
00:01:32,487 --> 00:01:36,500
Point3DLike基本就是numpy array

27
00:01:36,500 --> 00:01:41,037
而Point3D和Vector3D的类型是完全一样的

28
00:01:41,037 --> 00:01:44,762
manim内置了一些向量常量方便使用

29
00:01:44,762 --> 00:01:50,387
比如 ORIGIN(0, 0, 0) 、 UP(0, 1, 0) 等等

30
00:01:50,387 --> 00:01:54,850
另外，我们会用VGroup把多个图形组合起来

31
00:01:54,850 --> 00:01:57,462
一起运动、改颜色等等

32
00:01:57,462 --> 00:01:59,875
接着讲怎么移动图形

33
00:01:59,875 --> 00:02:04,437
可以用shift、move_to、next_to等方法移动图形

34
00:02:04,437 --> 00:02:07,537
shift表示按给定的向量移动

35
00:02:07,537 --> 00:02:11,625
move_to表示把图形的中心移动到给定的点

36
00:02:11,625 --> 00:02:15,850
next_to表示把图形移动到给定的图形旁边

37
00:02:15,850 --> 00:02:19,550
可以用direction指定是在哪个方向挨着

38
00:02:19,550 --> 00:02:23,162
to_edge可以把图形移到屏幕的某个角落

39
00:02:23,162 --> 00:02:28,175
其他移动方法等有需求时再慢慢看官方文档就行

40
00:02:28,175 --> 00:02:30,025
这里就不赘述了

41
00:02:30,025 --> 00:02:34,412
但直接用这些方法移动图形是没有过渡动画的

42
00:02:34,412 --> 00:02:37,375
过渡动画有两种创建方式

43
00:02:37,375 --> 00:02:40,462
ApplyMethod类和animate属性

44
00:02:40,462 --> 00:02:44,250
ApplyMethod第一个参数是要调用的方法

45
00:02:44,250 --> 00:02:46,950
后面是方法的透传参数

46
00:02:46,950 --> 00:02:51,525
animate属性后正常跟shift、move_to等方法就行

47
00:02:51,525 --> 00:02:55,100
另外，可以给play方法任意多参数

48
00:02:55,100 --> 00:02:57,662
表示多个动画同时进行

49
00:02:57,662 --> 00:03:01,037
问题来了，这两种方法有区别吗？

50
00:03:01,037 --> 00:03:03,337
kimi k2说有区别

51
00:03:03,337 --> 00:03:08,000
但我翻遍官方文档、GitHub都没有找到相关表述

52
00:03:08,000 --> 00:03:11,550
于是我又问了通义千问、智谱清言

53
00:03:11,550 --> 00:03:16,675
它们都说其实没区别，只是更推荐用animate属性

54
00:03:16,675 --> 00:03:19,950
因为可以链式调用，代码更简洁

55
00:03:19,950 --> 00:03:23,662
有这点知识我们就可以做出打靶视频了

56
00:03:23,662 --> 00:03:26,425
首先来看怎么画瞄准镜

57
00:03:26,425 --> 00:03:29,200
我们画一个大圆和一个小圆

58
00:03:29,200 --> 00:03:31,875
然后横竖各连一条线就行

59
00:03:31,875 --> 00:03:34,737
把这些图形打包进VGroup

60
00:03:34,737 --> 00:03:38,175
然后ApplyMethod移动到左上角

61
00:03:38,175 --> 00:03:40,187
靶子就是实心圆

62
00:03:40,187 --> 00:03:44,687
我们希望把它们放到中心位置，圆心间距为2

63
00:03:44,687 --> 00:03:48,662
所以需要推导下屏幕里一元一次方程的解

64
00:03:48,662 --> 00:03:53,425
推完后代入3和4就得到代码里的-2、-3

65
00:03:53,425 --> 00:03:55,412
显示分数也不难

66
00:03:55,412 --> 00:03:58,825
我们调用to_edge把文案移动到上方

67
00:03:58,825 --> 00:04:01,975
然后把分数移到文案右边就行

68
00:04:01,975 --> 00:04:05,087
为了实现只改变分数的效果

69
00:04:05,087 --> 00:04:07,737
我没有用VGroup打包他俩

70
00:04:07,737 --> 00:04:09,850
模拟射击分两步

71
00:04:09,850 --> 00:04:11,825
先移到靶子中心

72
00:04:11,825 --> 00:04:16,550
然后让靶子、文本的颜色变化，同时增加分数

73
00:04:16,550 --> 00:04:21,662
写好初版代码后，我忽然不满足于一个单纯的打靶视频

74
00:04:21,662 --> 00:04:26,062
刚好又联想到打靶类似于哲学家批判旧事物

75
00:04:26,062 --> 00:04:30,950
于是我想再做一个转场动画，模拟尼采精神崩溃

76
00:04:30,950 --> 00:04:33,475
于是向通义千问要灵感

77
00:04:33,475 --> 00:04:37,287
大语言模型艺术创作的表现向来一般

78
00:04:37,287 --> 00:04:40,537
所以一开始我是不抱希望的

79
00:04:40,537 --> 00:04:44,200
但没想到它生成的效果是有点内味的

80
00:04:44,200 --> 00:04:48,975
于是我改了改代码，加了BGM，做成现在的样子

81
00:04:48,975 --> 00:04:51,725
首先打乱每个靶子的位置

82
00:04:51,725 --> 00:04:54,575
接着把屏幕里所有图形弄乱

83
00:04:54,575 --> 00:04:57,962
然后让所有图形缩到中心消失

84
00:04:57,962 --> 00:05:00,400
最后展示尼采的名言

85
00:05:00,400 --> 00:05:02,750
代码放到下一页展示

86
00:05:02,750 --> 00:05:07,262
缩到中心消失的效果用ShrinkToCenter实现更好

87
00:05:07,262 --> 00:05:11,150
不过通义千问生成的代码是屏幕里这样的

88
00:05:11,150 --> 00:05:14,412
看着效果差不多，我就没改代码了

89
00:05:14,412 --> 00:05:16,362
最后一行是署名

90
00:05:16,362 --> 00:05:20,087
我们在调用next_to时传入aligned_edge

91
00:05:20,087 --> 00:05:24,150
让它和前两行的右边界对齐，这样更美观

92
00:05:24,150 --> 00:05:28,537
对完整代码感兴趣的大佬可以点击简介的链接~

93
00:05:29,462 --> 00:05:34,950
我是Hans，我正致力于为做题人的精神自留地添砖加瓦

94
00:05:34,950 --> 00:05:38,850
如果你喜欢这期视频，别忘了一键三连哦

95
00:05:38,850 --> 00:05:40,337
谢谢观看~

