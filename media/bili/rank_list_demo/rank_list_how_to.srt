1
00:00:00,050 --> 00:00:03,512
大佬们好久不见，欢迎回到我的频道

2
00:00:03,512 --> 00:00:06,750
我们必须想象，做题人是幸福的

3
00:00:06,750 --> 00:00:09,775
我是汉斯，大龄做题人一枚

4
00:00:09,775 --> 00:00:14,450
今天教大家如何用manim做从夯到拉锐评视频

5
00:00:14,450 --> 00:00:17,787
如果看过我上期的manim教学视频

6
00:00:17,787 --> 00:00:21,787
那么写出这期视频的代码将会很轻松

7
00:00:21,787 --> 00:00:25,137
做从夯到拉锐评视频主要步骤有

8
00:00:25,137 --> 00:00:28,337
1，画出从夯到拉的背景图

9
00:00:28,337 --> 00:00:33,362
2，展示初始素材图片，并设置成合适的大小

10
00:00:33,362 --> 00:00:40,987
3，让素材图片一边缩小到和一行矩形的高度相同，一边移动到正确位置

11
00:00:40,987 --> 00:00:43,662
首先讲怎么画背景图

12
00:00:43,662 --> 00:00:48,375
我先找了一个网站截图，然后让通义千问帮我复刻

13
00:00:48,375 --> 00:00:50,537
最后自己调整代码

14
00:00:50,537 --> 00:00:54,837
提示词没啥弯弯绕绕，直接叫它复刻就行

15
00:00:54,837 --> 00:01:00,187
不过生成效果只是看着像回事，免不了古法手作调整

16
00:01:00,187 --> 00:01:02,562
接下来简单说下代码

17
00:01:02,562 --> 00:01:08,412
对于每一行的左侧矩形，我们都需要把对应的文字放到它的中心

18
00:01:08,412 --> 00:01:12,325
所以我们调用了label rect的get center方法

19
00:01:12,325 --> 00:01:18,212
右侧矩形紧挨着左侧矩形的右边界，所以调用了next to方法

20
00:01:18,212 --> 00:01:22,062
接下来是难点：确定每个矩形的宽和高

21
00:01:22,062 --> 00:01:26,012
LLM完全没有考虑到这里要讲的问题

22
00:01:26,012 --> 00:01:28,512
我们单独看前6行代码

23
00:01:28,512 --> 00:01:33,150
首先要确定左侧矩形的宽和对应的字体大小

24
00:01:33,150 --> 00:01:37,362
和CSS不同，在manim里，如果字太大

25
00:01:37,362 --> 00:01:42,712
不仅会溢出矩形，还会导致这一行的所有矩形都发生错位

26
00:01:42,712 --> 00:01:48,700
调试发现，60px字体配0.2倍屏幕宽刚好合适

27
00:01:48,700 --> 00:01:53,900
接着在调试过程中发现，类似于CSS的content box

28
00:01:53,900 --> 00:01:57,150
边框宽度不包含在矩形宽度里

29
00:01:57,150 --> 00:02:01,550
所以如果直接让左右矩形宽度和等于屏幕宽度

30
00:02:01,550 --> 00:02:06,862
就会导致左矩形左边框和右矩形右边框只能显示一半

31
00:02:06,862 --> 00:02:12,200
为了解决这个问题，我们让两个矩形的宽度各减去边框宽度

32
00:02:12,200 --> 00:02:18,150
但注意到边框宽度的单位是像素，所以还需要转换成逻辑宽度

33
00:02:18,150 --> 00:02:23,087
根据边框占屏幕宽度的比例，我们列出屏幕里的等式

34
00:02:23,087 --> 00:02:26,925
于是就得到了代码里的STROKE LOGIC WIDTH

35
00:02:26,925 --> 00:02:30,762
类似地，我们顺便定义了边框逻辑高度

36
00:02:30,762 --> 00:02:35,387
它在row height里不是必需的，不过我还是让它参与了

37
00:02:35,387 --> 00:02:37,525
接着看怎么画素材

38
00:02:37,525 --> 00:02:40,887
ImageMobject需要给出图片的路径

39
00:02:40,887 --> 00:02:44,575
编程基础较差的人可能会在这里踩坑

40
00:02:44,575 --> 00:02:46,650
正确做法就一句话

41
00:02:46,650 --> 00:02:50,550
设置相对于项目根目录的相对路径就行

42
00:02:50,550 --> 00:02:57,137
这里还用到一个新的API：scale_to_fit_height

43
00:02:57,137 --> 00:03:01,825
根据官方文档，它会在保留图片宽高比的前提下

44
00:03:01,825 --> 00:03:05,050
让图片的高度变成给定的高度

45
00:03:05,050 --> 00:03:10,950
然后看怎么让素材图片一边缩小到和一行矩形的高度相同

46
00:03:10,950 --> 00:03:13,250
一边移动到正确位置

47
00:03:13,250 --> 00:03:19,062
我试过问LLM，但发现它给的代码是直接放到对应坐标的

48
00:03:19,062 --> 00:03:23,462
为了方便，我们暂不考虑放到两行之间的情况

49
00:03:23,462 --> 00:03:28,037
这样就可以简化为用next to，避免直接计算坐标

50
00:03:28,037 --> 00:03:30,587
于是我们需要分两种情况

51
00:03:30,587 --> 00:03:35,612
情况1，这一行还没有图片，对应屏幕里第一段代码

52
00:03:35,612 --> 00:03:39,050
我们需要放到这一行左侧矩形的右边

53
00:03:39,050 --> 00:03:43,150
因为矩形的边框宽度不包含在矩形宽度里

54
00:03:43,150 --> 00:03:45,425
所以需要给一个buffer

55
00:03:45,425 --> 00:03:50,925
实测发现，代码里的0.5倍STROKE LOGIC WIDTH并不精确

56
00:03:50,925 --> 00:03:54,962
但看着效果还行，我就不细细琢磨精确解了

57
00:03:54,962 --> 00:04:00,050
情况2，这一行已经有图片，对应屏幕里第二段代码

58
00:04:00,050 --> 00:04:03,750
我们需要放到本行最后一张图片的右边

59
00:04:03,750 --> 00:04:07,837
因为图片没有边框，所以直接紧挨着就行

60
00:04:07,837 --> 00:04:12,525
剪视频时想到，这里可以额外每行维护一个数组

61
00:04:12,525 --> 00:04:17,400
取数组最后一个元素，表示当前元素要紧挨着它

62
00:04:17,400 --> 00:04:21,737
不过这期视频的代码比较简单，我就没有这么写

63
00:04:21,737 --> 00:04:26,212
另外，注意到屏幕第一段代码有3个等待时间

64
00:04:26,212 --> 00:04:29,887
这是根据旁白读这句话的时长来调整的

65
00:04:29,887 --> 00:04:34,525
如果有大佬有更好的方法，请在评论区教教汉斯

66
00:04:34,525 --> 00:04:38,912
对完整代码感兴趣的大佬可以点击简介的链接

67
00:04:38,912 --> 00:04:44,450
我是汉斯，我正致力于为做题人的精神自留地添砖加瓦

68
00:04:44,450 --> 00:04:48,350
如果你喜欢这期视频，别忘了一键三连哦

69
00:04:48,350 --> 00:04:49,837
谢谢观看

