[Script Info]
; Script generated by Kdenlive 25.08.1
LayoutResX: 1920
LayoutResY: 1080
PlayResX: 1920
PlayResY: 1080
ScaledBorderAndShadow: yes
ScriptType: v4.00+
WrapStyle: 0
YCbCr Matrix: None

[Kdenlive Extradata]
MaxLayer: 0
DefaultStyles: Default

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,站酷快乐体2016修订版,60.00,&H00FFAAAA,&H000000FF,&H00000000,&H00000000,0,0,0,0,100.00,100.00,0.00,0.00,1,1.00,0.00,2,40,40,40,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,00:00:00.05,00:00:03.52,Default,,0,0,0,,大佬们好久不见，欢迎回到我的频道
Dialogue: 0,00:00:03.52,00:00:06.75,Default,,0,0,0,,我们必须想象，做题人是幸福的
Dialogue: 0,00:00:06.75,00:00:09.78,Default,,0,0,0,,我是Hans，大龄做题人一枚
Dialogue: 0,00:00:09.78,00:00:14.45,Default,,0,0,0,,今天教大家如何用manim做从夯到拉锐评视频
Dialogue: 0,00:00:14.45,00:00:17.78,Default,,0,0,0,,如果看过我上期的manim教学视频
Dialogue: 0,00:00:17.78,00:00:21.78,Default,,0,0,0,,那么写出这期视频的代码将会很轻松
Dialogue: 0,00:00:21.78,00:00:25.13,Default,,0,0,0,,做从夯到拉锐评视频主要步骤有
Dialogue: 0,00:00:25.13,00:00:28.33,Default,,0,0,0,,1，画出从夯到拉的背景图
Dialogue: 0,00:00:28.33,00:00:33.37,Default,,0,0,0,,2，展示初始素材图片，并设置成合适的大小
Dialogue: 0,00:00:33.37,00:00:39.93,Default,,0,0,0,,3，让素材图片一边缩小到一行矩形的高度，一边移动到正确位置
Dialogue: 0,00:00:39.93,00:00:42.62,Default,,0,0,0,,首先讲怎么画背景图
Dialogue: 0,00:00:42.62,00:00:47.33,Default,,0,0,0,,我先找了一个网站截图，然后让通义千问帮我复刻
Dialogue: 0,00:00:47.33,00:00:49.48,Default,,0,0,0,,最后自己调整代码
Dialogue: 0,00:00:49.48,00:00:53.78,Default,,0,0,0,,提示词没啥弯弯绕绕，直接叫它复刻就行
Dialogue: 0,00:00:53.78,00:00:59.13,Default,,0,0,0,,不过生成效果只是看着像回事，免不了古法手作调整
Dialogue: 0,00:00:59.13,00:01:01.52,Default,,0,0,0,,接下来简单说下代码
Dialogue: 0,00:01:01.52,00:01:07.37,Default,,0,0,0,,对于每一行的左侧矩形，我们都需要把对应的文字放到它的中心
Dialogue: 0,00:01:07.37,00:01:11.10,Default,,0,0,0,,所以调用了label_rect.get_center()
Dialogue: 0,00:01:11.10,00:01:16.98,Default,,0,0,0,,右侧矩形紧挨着左侧矩形的右边界，所以调用了next_to方法
Dialogue: 0,00:01:16.98,00:01:20.83,Default,,0,0,0,,接下来是难点：确定每个矩形的宽和高
Dialogue: 0,00:01:20.83,00:01:24.93,Default,,0,0,0,,LLM完全没能力考虑到这里要讲的问题
Dialogue: 0,00:01:24.93,00:01:27.43,Default,,0,0,0,,我们单独看前6行代码
Dialogue: 0,00:01:27.43,00:01:32.07,Default,,0,0,0,,首先要确定左侧矩形的宽和对应的字体大小
Dialogue: 0,00:01:32.07,00:01:36.28,Default,,0,0,0,,和CSS不同，在manim里，如果字太大
Dialogue: 0,00:01:36.28,00:01:41.63,Default,,0,0,0,,不仅会溢出矩形，还会导致这一行的所有矩形都发生错位
Dialogue: 0,00:01:41.63,00:01:47.62,Default,,0,0,0,,调试发现，60px字体配0.2倍屏幕宽刚好合适
Dialogue: 0,00:01:47.62,00:01:52.82,Default,,0,0,0,,接着在调试过程中发现，类似于CSS的content-box
Dialogue: 0,00:01:52.82,00:01:56.07,Default,,0,0,0,,边框宽度不包含在矩形宽度里
Dialogue: 0,00:01:56.07,00:02:00.47,Default,,0,0,0,,所以如果直接让左右矩形宽度和等于屏幕宽度
Dialogue: 0,00:02:00.47,00:02:05.78,Default,,0,0,0,,就会导致左矩形左边框和右矩形右边框只能显示一半
Dialogue: 0,00:02:05.78,00:02:11.12,Default,,0,0,0,,为了解决这个问题，我们让两个矩形的宽度各减去边框宽度
Dialogue: 0,00:02:11.12,00:02:17.07,Default,,0,0,0,,但注意到边框宽度的单位是像素，所以还需要转换成逻辑宽度
Dialogue: 0,00:02:17.07,00:02:22.00,Default,,0,0,0,,根据边框占屏幕宽度的比例，我们列出屏幕里的等式
Dialogue: 0,00:02:22.00,00:02:25.83,Default,,0,0,0,,于是就得到了代码里的STROKE_LOGIC_WIDTH
Dialogue: 0,00:02:25.83,00:02:29.68,Default,,0,0,0,,类似地，我们顺便定义了边框逻辑高度
Dialogue: 0,00:02:29.68,00:02:34.30,Default,,0,0,0,,它在row_height里不是必需的，不过我还是让它参与了
Dialogue: 0,00:02:34.30,00:02:36.43,Default,,0,0,0,,接着看怎么画素材
Dialogue: 0,00:02:36.43,00:02:39.80,Default,,0,0,0,,ImageMobject需要给出图片的路径
Dialogue: 0,00:02:39.80,00:02:43.48,Default,,0,0,0,,编程基础较差的人可能会在这里踩坑
Dialogue: 0,00:02:43.48,00:02:45.57,Default,,0,0,0,,正确做法就一句话
Dialogue: 0,00:02:45.57,00:02:49.47,Default,,0,0,0,,设置相对于项目根目录的相对路径就行
Dialogue: 0,00:02:49.47,00:02:53.77,Default,,0,0,0,,这里还用到一个新的API：scale_to_fit_height
Dialogue: 0,00:02:53.77,00:02:58.45,Default,,0,0,0,,根据官方文档，它会在保留图片宽高比的前提下
Dialogue: 0,00:02:58.45,00:03:01.68,Default,,0,0,0,,让图片的高度变成给定的高度
Dialogue: 0,00:03:01.68,00:03:06.63,Default,,0,0,0,,然后看怎么让素材图片一边缩小到一行矩形的高度
Dialogue: 0,00:03:06.63,00:03:08.93,Default,,0,0,0,,一边移动到正确位置
Dialogue: 0,00:03:08.93,00:03:14.78,Default,,0,0,0,,素材图片的最终高度直接设置为row_height会占据一部分边框
Dialogue: 0,00:03:14.78,00:03:19.57,Default,,0,0,0,,观感不好，所以我们减去了0.5倍STROKE_LOGIC_HEIGHT
Dialogue: 0,00:03:19.57,00:03:25.58,Default,,0,0,0,,实测发现这个倍数并不精确，但看着效果OK，我就不深究了
Dialogue: 0,00:03:25.58,00:03:28.38,Default,,0,0,0,,然后看怎么确定最终位置
Dialogue: 0,00:03:28.38,00:03:33.88,Default,,0,0,0,,我试过问LLM，但它给的代码是直接计算最终坐标的
Dialogue: 0,00:03:33.88,00:03:38.28,Default,,0,0,0,,为了方便，我们暂不考虑放到两行之间的情况
Dialogue: 0,00:03:38.28,00:03:42.87,Default,,0,0,0,,这样就可以简化为用next_to，避免直接计算坐标
Dialogue: 0,00:03:42.87,00:03:45.42,Default,,0,0,0,,于是我们需要分两种情况
Dialogue: 0,00:03:45.42,00:03:50.43,Default,,0,0,0,,情况1，这一行还没有图片，对应屏幕里第一段代码
Dialogue: 0,00:03:50.43,00:03:53.48,Default,,0,0,0,,我们放到这一行左侧矩形的右边
Dialogue: 0,00:03:53.48,00:03:57.58,Default,,0,0,0,,因为矩形的边框宽度不包含在矩形宽度里
Dialogue: 0,00:03:57.58,00:03:59.87,Default,,0,0,0,,所以需要给一个buffer
Dialogue: 0,00:03:59.87,00:04:05.37,Default,,0,0,0,,实测发现，代码里的0.5倍STROKE_LOGIC_WIDTH并不精确
Dialogue: 0,00:04:05.37,00:04:09.40,Default,,0,0,0,,但看着效果还行，我就不细细琢磨精确解了
Dialogue: 0,00:04:09.40,00:04:14.48,Default,,0,0,0,,情况2，这一行已经有图片，对应屏幕里第二段代码
Dialogue: 0,00:04:14.48,00:04:17.77,Default,,0,0,0,,我们放到本行最后一张图片的右边
Dialogue: 0,00:04:17.77,00:04:21.85,Default,,0,0,0,,因为图片没有边框，所以直接紧挨着就行
Dialogue: 0,00:04:21.85,00:04:26.53,Default,,0,0,0,,剪视频时想到，这里可以额外每行维护一个数组
Dialogue: 0,00:04:26.53,00:04:31.42,Default,,0,0,0,,取数组最后一个元素，表示当前元素要紧挨着它
Dialogue: 0,00:04:31.42,00:04:35.67,Default,,0,0,0,,不过这期视频的代码比较简单，我就没这么写
Dialogue: 0,00:04:35.67,00:04:39.68,Default,,0,0,0,,另外，屏幕第一段代码有3个等待时间
Dialogue: 0,00:04:39.68,00:04:43.43,Default,,0,0,0,,这是根据旁白读每句话的时长来调整的
Dialogue: 0,00:04:43.43,00:04:48.07,Default,,0,0,0,,如果有大佬有更好的方法，请在评论区教教Hans~
Dialogue: 0,00:04:48.07,00:04:52.45,Default,,0,0,0,,对完整代码感兴趣的大佬可以点击简介的链接~
Dialogue: 0,00:04:52.45,00:04:57.98,Default,,0,0,0,,我是Hans，我正致力于为做题人的精神自留地添砖加瓦
Dialogue: 0,00:04:57.98,00:05:01.88,Default,,0,0,0,,如果你喜欢这期视频，别忘了一键三连哦
Dialogue: 0,00:05:01.88,00:05:03.38,Default,,0,0,0,,谢谢观看~
